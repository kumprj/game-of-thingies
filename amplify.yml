version: 1
applications:
  - appRoot: client
    frontend:
      phases:
        preBuild:
          commands:
            - npm ci
        build:
          commands:
            - npm run build
      artifacts:
        baseDirectory: build
        files:
          - '**/*'
      cache:
        paths:
          - node_modules/**/*
###
#To build the backend, update server.ts file
#copy to /Users/robertkump/Documents/Projects/game-of-thingies/amplify/backend/function/gameofthingsProdApi/src/index.ts
#  npm install express cors uuid serverless-http @aws-sdk/client-dynamodb @aws-sdk/lib-dynamodb
# npm install --save-dev typescript @types/node @types/express @types/cors
# Enable const handler...
# Comment out app.listen
#Run npm run build
#amplify push